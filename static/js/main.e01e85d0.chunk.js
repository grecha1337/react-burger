(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{100:function(e,t,n){e.exports={orderDetails:"order-details_orderDetails__2PoKE"}},101:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__39kB-"}},103:function(e,t,n){e.exports={templateConstructorElement:"template-constructor-element_templateConstructorElement__8AUGz"}},104:function(e,t,n){e.exports={errorText:"error-text_errorText__1VnVo"}},105:function(e,t,n){e.exports={card__prics:"ingredient_card__prics__1mWaG"}},106:function(e,t,n){e.exports={burgerIngredients:"burger-ingredients_burgerIngredients__1p9CV"}},116:function(e,t,n){},14:function(e,t,n){e.exports={ingredientDetails:"ingredientDetails_ingredientDetails__6s4Tp",ingredientDetails__title:"ingredientDetails_ingredientDetails__title__3ecJb",ingredientDetails__nutritionalValue:"ingredientDetails_ingredientDetails__nutritionalValue__JbCpa",ingredientDetails__nutritionaValueItem:"ingredientDetails_ingredientDetails__nutritionaValueItem__1b2Z0"}},203:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),s=n.n(c),i=(n(116),n(13)),o=n.n(i),u=n(26),l=n(6),d=n(4),b=n(11),j=n(9),p=n(24),O=n.n(p),m=n(0),f=function(e){return e?O.a.linkHeader__active+" "+O.a.linkHeader:O.a.linkHeader},_=function(){var e=Object(b.h)().pathname,t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){switch(e){case"/":c("home");break;case"/login":c("login");break;case"/profile":c("profile");break;default:c("")}}),[e]),Object(m.jsx)("header",{className:"pt-4 pb-4 ".concat(O.a.header),children:Object(m.jsxs)("div",{className:O.a.headerContent,children:[Object(m.jsx)("nav",{className:"".concat(O.a.menu),children:Object(m.jsxs)("ul",{className:"".concat(O.a.menu__list),children:[Object(m.jsx)("li",{className:"pr-5 ".concat(O.a.menu__item),children:Object(m.jsxs)(j.c,{exact:!0,to:"/",className:f,onClick:function(){return c("home")},children:[Object(m.jsx)(d.BurgerIcon,{type:"home"===r?"primary":"secondary"}),Object(m.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(m.jsx)("li",{className:"pl-5 pr-5 ".concat(O.a.menu__item),children:Object(m.jsxs)(j.c,{to:"/login",className:f,onClick:function(){return c("login")},children:[Object(m.jsx)(d.ListIcon,{type:"login"===r?"primary":"secondary"}),Object(m.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})})]})}),Object(m.jsx)("div",{className:O.a.logo,children:Object(m.jsx)(d.Logo,{})}),Object(m.jsx)("div",{className:O.a.account,children:Object(m.jsxs)(j.c,{to:"/profile",className:f,onClick:function(){return c("profile")},children:[Object(m.jsx)(d.ProfileIcon,{type:"profile"===r?"primary":"secondary"}),Object(m.jsx)("p",{className:"pl-2 text text_type_main-default",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},h=n(209),x=n(32),g=function(){return Object(x.b)()},v=x.c,y=n(54),E=n.n(y),I=n(100),N=n.n(I),C=n.p+"static/media/orderDone.2022ce2b.svg",R=function(e){var t=e.order;return Object(m.jsxs)("div",{className:"".concat(N.a.orderDetails," pt-30 pl-25 pr-25"),children:[Object(m.jsx)("h2",{className:"text text_type_digits-large pb-8",children:t}),Object(m.jsx)("p",{className:"pb-20 text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(m.jsx)("img",{className:"pb-15",src:C,alt:"\u0417\u0430\u043a\u0430\u0437 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),Object(m.jsx)("p",{className:"pb-2 text text_type_main-small",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(m.jsx)("p",{className:"pb-30 text text_type_main-small",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},T=n(55),S=n.n(T),k=n(101),D=n.n(k),w=function(e){var t=e.children,n=e.onClose;return Object(m.jsx)("div",{className:"".concat(D.a.overlay),onClick:n,children:t})},q=document.getElementById("modal"),L=function(e){var t=e.title,n=e.onClose,r=e.children;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),s.a.createPortal(Object(m.jsx)(w,{onClose:n,children:Object(m.jsxs)("div",{className:S.a.popup,onClick:function(e){return e.stopPropagation()},children:[t&&Object(m.jsx)("h2",{className:"".concat(S.a.popup__title," text text_type_main-large pl-10 pr-10"),children:t}),r,Object(m.jsx)("div",{className:S.a.popup__close,onClick:n,children:Object(m.jsx)(d.CloseIcon,{type:"primary"})})]})}),q)},P=n(2),U=n(210),F=n(212),G=n(37),A=n.n(G),B=n(211),Q=n(43),M=n.n(Q),H=function(e){var t=e.children,n=e.moveItem,r=e.index,c=e.id,s=Object(a.useRef)(null),i=Object(U.a)({accept:"constructorItem",collect:function(e){return{isHover:e.isOver()}},drop:function(e){if(s.current){var t=e.index,a=r;t!==a&&(n(t,a),e.index=a)}}}),o=Object(l.a)(i,2),u=o[0].isHover,b=o[1],j=Object(B.a)({type:"constructorItem",item:function(){return{id:c,index:r}}}),p=u?{outline:"3px solid #8b00ff",outlineOffset:"-3px"}:{};return(0,Object(l.a)(j,2)[1])(b(s)),Object(m.jsxs)("li",{ref:s,className:M.a.burgerConstructorList__innerItem,children:[Object(m.jsx)(d.DragIcon,{type:"primary"}),Object(m.jsx)("div",{className:M.a.wrapperConstructorElement,style:p,children:t})]})},J="ADD_INGREDIENT",V="ADD_BUN",z="DELETE_ITEM",K="REORDER_INGREDIENTS",W="SET_DEFAULT_VALUE_INGREDIENTS",Z="refresh_token",X="access_token";function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log(t);var a=(n=n||{}).expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in n){c+="; "+s;var i=n[s];!0!==i&&(c+="="+i)}document.cookie=c}function $(e){Y(e,"",{expires:-1})}function ee(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var te="https://norma.nomoreparties.space",ne=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",n?Promise.reject(Object(P.a)(Object(P.a)({},n),{},{status:t.status})):Promise.reject({status:t.status}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){return fetch("".concat(te,"/api/auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(ne)},re=function(e){return fetch("".concat(te,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(P.a)({},e))}).then(ne)},ce=function(){return fetch("".concat(te,"/api/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ee(X)}}).then(ne)},se=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ee(Z),a=null,!n){e.next=17;break}return e.prev=3,e.next=6,ae({token:n});case 6:return(r=e.sent).accessToken&&Y(X,r.accessToken.split("Bearer ")[1]),r.refreshToken&&Y(Z,r.refreshToken),e.next=11,t();case 11:a=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),ie="BURGER_INGREDIENTS_REQUEST",oe="BURGER_INGREDIENTS_SUCCESS",ue="BURGER_INGREDIENTS_FAILED",le="INCREMENT_INGREDIENTS",de="INCREMENT_BUN",be="DECREMENT_INGREDIENTS",je="RESET_QTY_INGREDIENTS",pe=function(){return function(e){e({type:ie}),fetch("".concat(te,"/api/ingredients")).then(ne).then((function(t){var n;e((n=t.data,{type:oe,payload:n}))})).catch((function(t){console.log(t),e({type:ue})}))}},Oe=n(103),me=n.n(Oe),fe=function(){return Object(m.jsx)("li",{className:M.a.burgerConstructorList__innerItem,children:Object(m.jsx)("p",{className:"".concat(me.a.templateConstructorElement," text text_type_digits-medium pr-2"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})})},_e=Object(a.memo)((function(e){var t=e.ingredientList,n=Object(a.useMemo)((function(){return t.filter((function(e){return"bun"!==e.type}))}),[t]),r=Object(a.useMemo)((function(){return t.filter((function(e){return"bun"===e.type}))}),[t]),c=Object(l.a)(r,1)[0],s=g(),i=Object(U.a)({accept:"ingredient",drop:function(e){var t;"bun"===e.type?(s((t=Object(P.a)(Object(P.a)({},e),{},{uuid:Object(F.a)()}),{type:V,payload:t})),s(function(e){return{type:de,payload:e}}(e))):(s(function(e){return{type:J,payload:e}}(Object(P.a)(Object(P.a)({},e),{},{uuid:Object(F.a)()}))),s(function(e){return{type:le,payload:e}}(e)))}}),o=Object(l.a)(i,2)[1],u=Object(a.useCallback)((function(e){var t;s((t=e.uuid,{type:z,id:t})),s({type:be,payload:e})}),[]),b=Object(a.useCallback)((function(e,n){var a=t;"bun"===t[0].type&&(e+=1,n+=1);var r=t[e];a.splice(e,1),a.splice(n,0,r),s({type:K,payload:a})}),[t]);return Object(m.jsxs)("ul",{className:"pt-25 ".concat(A.a.burgerconstructorList),ref:o,children:[c&&Object(m.jsx)("li",{className:A.a.burgerconstructorList__item,children:Object(m.jsx)(d.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(c.name," ").concat("(\u0432\u0435\u0440\u0445)"),price:c.price,thumbnail:c.image})}),Object(m.jsxs)("ul",{className:"".concat(A.a.burgerconstructorList__inner," ").concat(0===t.length?A.a.burgerconstructorListOverflowHidden__inner:""),children:[n.map((function(e,t){return Object(m.jsx)(H,{index:t,moveItem:b,id:e.uuid,children:Object(m.jsx)(d.ConstructorElement,{text:e.name,price:e.price,thumbnail:e.image,handleClose:function(){u(e)}})},e.uuid)})),0===t.length?Object(m.jsx)(fe,{}):null]}),c&&Object(m.jsx)("li",{className:A.a.burgerconstructorList__item,children:Object(m.jsx)(d.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(c.name," ").concat("(\u043d\u0438\u0437)"),price:c.price,thumbnail:c.image})})]})})),he="ORDER_REQUEST",xe="ORDER_SUCCESS",ge="ORDER_FAILED",ve=function(e){return function(t){t({type:he}),function(e){return fetch("".concat(te,"/api/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ee(X)},body:JSON.stringify({ingredients:e})}).then(ne)}(e).then((function(e){t({type:xe,payload:e})})).catch((function(e){console.log(e),t({type:ge})}))}},ye=n(104),Ee=n.n(ye),Ie=function(e){var t=e.text;return Object(m.jsx)("div",{className:Ee.a.errorText,children:Object(m.jsx)("p",{className:"text text_type_digits-medium",children:t})})},Ne={text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",count:3},Ce=function(){var e=v((function(e){return e.burgerConstructor})).ingredients,t=v((function(e){return e.userInfo})).user,n=Object(b.g)(),r=v((function(e){return e.orderInfo})).orderRequest,c=v((function(e){return e.orderInfo})).success,s=Object(a.useState)(Ne),i=Object(l.a)(s,2),o=i[0],u=i[1],j=Object(a.useState)(!1),p=Object(l.a)(j,2),O=p[0],f=p[1],_=Object(a.useMemo)((function(){return e.reduce((function(e,t){return"bun"!==t.type?e+=t.price:e+=2*t.price}),0)}),[e]),h=g(),x=v((function(e){return e.burgerConstructor.ingredients.map((function(e){return e._id}))})),y=v((function(e){return e.orderInfo.order.number})),I=v((function(e){return e.orderInfo.orderFailed})),N=Object(a.useCallback)((function(){t?(f(!0),h(ve(x))):n.push({pathname:"/login"})}),[h,e]);return Object(a.useEffect)((function(){var e=null;return r?(u({text:"\u0416\u0434\u0438\u0442\u0435",count:Ne.count}),e=setInterval((function(){u((function(e){return{count:0===e.count?Ne.count:e.count-1,text:0===e.count?"\u0416\u0434\u0438\u0442\u0435":e.text+"."}}))}),1e3)):u(Ne),function(){clearInterval(e)}}),[r]),Object(m.jsxs)("section",{className:"".concat(E.a.burgerConstructor," pl-4 pr-4"),children:[Object(m.jsx)(_e,{ingredientList:e}),I?Object(m.jsx)(Ie,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"}):null,Object(m.jsxs)("div",{className:E.a.burgerConstructor__total,children:[Object(m.jsx)("p",{className:"text text_type_digits-medium pr-2",children:_}),Object(m.jsx)(d.CurrencyIcon,{type:"primary"}),Object(m.jsx)("div",{className:"".concat(E.a.buttonOrder," pl-10"),children:Object(m.jsx)(d.Button,{disabled:!_||r,onClick:N,type:"primary",size:"large",children:o.text})})]}),c&&O&&Object(m.jsx)(L,{onClose:function(){f(!1),h({type:W}),h({type:je})},children:Object(m.jsx)(R,{order:y})})]})},Re=n(77),Te=n.n(Re),Se=n(105),ke=n.n(Se),De=Object(a.memo)((function(e){var t=e.data,n=t.image,a=t.name,r=t.price,c=t.qty,s=Object(B.a)({type:"ingredient",item:t}),i=Object(l.a)(s,2)[1];return Object(m.jsxs)("div",{ref:i,children:[c&&Object(m.jsx)(d.Counter,{count:c,size:"default"}),Object(m.jsx)("img",{src:n,alt:a,className:"pl-4 pb-1 pr-4"}),Object(m.jsxs)("div",{className:ke.a.card__prics,children:[Object(m.jsx)("p",{className:"text text_type_digits-default pb-1 pr-2",children:r}),Object(m.jsx)(d.CurrencyIcon,{type:"primary"})]}),Object(m.jsx)("p",{className:"pt-2 text text_type_main-default",children:a})]})})),we=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n=e.list,r=e.typeCard,c=e.title,s=Object(b.h)(),i=Object(a.useMemo)((function(){return n.filter((function(e){return e.type===r}))}),[n]);return Object(m.jsxs)("div",{ref:t,children:[Object(m.jsx)("h2",{className:"text text_type_main-medium pb-6",children:c}),Object(m.jsx)("ul",{className:"pl-4 pb-10 ".concat(Te.a.card__list),children:i.map((function(e){return Object(m.jsx)(j.b,{to:{pathname:"/ingredients/".concat(e._id),state:{background:s}},style:{textDecoration:"none",color:"#fff"},children:Object(m.jsx)("li",{className:Te.a.card__listItem,children:Object(m.jsx)(De,{data:e})},e._id)},e._id)}))})]})}))),qe=n(106),Le=n.n(qe),Pe=function(){var e=Object(a.useState)("bun"),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useRef)(null),o="bun",u="sauce",b="main",j=v((function(e){return e.burgerIngredients})).burgerIngredients,p=Object(a.useCallback)((function(e,t){var n;r(e),null===t||void 0===t||null===(n=t.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[]),O=(g(),Object(a.useCallback)((function(e){if(null!==c.current&&null!==s.current){var t=e.target.scrollTop,n=c.current.offsetTop,a=s.current.offsetTop;r(t+40<=n?o:t-170<=a?u:b)}}),[]));return Object(m.jsxs)("section",{children:[Object(m.jsx)("h1",{className:"text text_type_main-large pt-10 pb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(d.Tab,{value:o,active:n===o,onClick:function(){p(o,c)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(m.jsx)(d.Tab,{value:u,active:n===u,onClick:function(){p(u,s)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(m.jsx)(d.Tab,{value:b,active:n===b,onClick:function(){p(b,i)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(m.jsxs)("div",{className:"".concat(Le.a.burgerIngredients," mt-10"),onScroll:O,children:[Object(m.jsx)(we,{list:j,typeCard:"bun",title:"\u0411\u0443\u043b\u043a\u0438",ref:c}),Object(m.jsx)(we,{list:j,typeCard:"sauce",title:"\u0421\u043e\u0443\u0441\u044b",ref:s}),Object(m.jsx)(we,{list:j,typeCard:"main",title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ref:i})]})]})},Ue=n(109),Fe=n(5),Ge=n.n(Fe),Ae=function(){var e=v((function(e){return e.burgerIngredients})).burgerIngredientsFailed;return Object(m.jsx)("main",{className:Ge.a.main,children:Object(m.jsx)(h.a,{backend:Ue.a,children:!0!==e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Pe,{}),Object(m.jsx)(Ce,{})]}):Object(m.jsx)(Ie,{text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"})})})},Be=n(15),Qe="REGISTER_REQUEST",Me="REGISTER_REQUEST_SUCCESS",He="REGISTER_REQUEST_FAILED",Je="GET_CODE_RESET_PASSWORD_REQUEST",Ve="GET_CODE_RESET_PASSWORD_SUCCESS",ze="GET_CODE_RESET_PASSWORD_FAILED",Ke="CONFIRM_RESET_PASSWORD_REQUEST",We="CONFIRM_RESET_PASSWORD_SUCCESS",Ze="CONFIRM_RESET_PASSWORD_FAILED",Xe="LOGIN_REQUEST",Ye="LOGIN_REQUEST_FAILED",$e="LOGIN_REQUEST_SUCCESS",et="LOGOUT_REQUEST",tt="LOGOUT_REQUEST_FAILED",nt="LOGOUT_REQUEST_SUCCESS",at="GET_PROFILE_REQUEST",rt="GET_PROFILE_REQUEST_FAILED",ct="GET_PROFILE_REQUEST_SUCCESS",st=function(){return{type:rt}},it=function(e){return{type:ct,payload:e}},ot=function(e){return function(t){t({type:Qe}),function(e){return fetch("".concat(te,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(P.a)({},e))}).then(ne)}(e).then((function(e){t({type:Me,payload:e}),e.accessToken&&Y(X,e.accessToken.split("Bearer ")[1]),e.refreshToken&&Y(Z,e.refreshToken)})).catch((function(e){console.log(e),t({type:He})}))}},ut=function(e){return function(t){t({type:Je}),function(e){return fetch("".concat(te,"/api/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(P.a)({},e))}).then(ne)}(e).then((function(e){t({type:Ve,payload:e})})).catch((function(e){console.log(e),t({type:ze})}))}},lt=function(e,t){return function(n){n({type:Ke}),function(e){return fetch("".concat(te,"/api/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(P.a)({},e))}).then(ne)}(e).then((function(e){n({type:We,payload:e}),t&&t()})).catch((function(e){console.log(e),n({type:Ze})}))}},dt=function(e){return function(t){t({type:"UPDATE_PROFILE_REQUEST"}),function(e){var t=e.email,n=e.password,a=e.name;return fetch("".concat(te,"/api/auth/user"),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ee(X)},body:JSON.stringify({email:t,password:n,name:a})}).then(ne)}(e).then((function(e){t({type:"UPDATE_PROFILE_REQUEST_SUCCESS",payload:e})})).catch((function(e){console.log(e),t({type:"UPDATE_PROFILE_REQUEST_FAILED"})}))}},bt=function(e){return function(t){var n;t({type:et}),(n=e,fetch("".concat(te,"/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})}).then(ne)).then((function(n){t({type:nt,payload:n}),$(X),$(Z),e.afterLogout&&e.afterLogout()})).catch((function(e){console.log(e),t({type:tt})}))}},jt=function(){var e,t=g(),n=v((function(e){return e.userInfo.user})),r=Object(b.h)(),c=Object(a.useState)({email:"",password:""}),s=Object(l.a)(c,2),i=s[0],p=s[1],O=Object(a.useCallback)((function(e){var t=e.target,n=t.name,a=t.value;p((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(Be.a)({},n,a))}))}),[]);return n?Object(m.jsx)(b.a,{to:(null===(e=r.state)||void 0===e?void 0:e.from)||"/"}):Object(m.jsxs)("main",{className:Ge.a.mainColumn,children:[Object(m.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u0445\u043e\u0434"}),Object(m.jsx)("form",{className:Ge.a.form,children:Object(m.jsxs)("fieldset",{className:Ge.a.fieldset,children:[Object(m.jsx)(d.EmailInput,{onChange:O,value:i.email,name:"email"}),Object(m.jsx)(d.PasswordInput,{onChange:O,value:i.password,name:"password"}),Object(m.jsx)("div",{className:"".concat(Ge.a.button," pb-20"),children:Object(m.jsx)(d.Button,{type:"primary",size:"medium",htmlType:"submit",onClick:function(e){var n;e.preventDefault(),t((n=i,function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Xe}),e.next=3,re(n).then((function(e){t({type:$e,payload:e}),e.accessToken&&Y(X,e.accessToken.split("Bearer ")[1]),e.refreshToken&&Y(Z,e.refreshToken)})).catch((function(e){console.log(e),t({type:Ye})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(m.jsxs)("ul",{className:Ge.a.registrationNav,children:[Object(m.jsxs)("li",{className:Ge.a.registrationNav__item,children:[Object(m.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(m.jsx)(j.b,{className:Ge.a.link,to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(m.jsxs)("li",{className:Ge.a.registrationNav__item,children:[Object(m.jsx)("p",{className:"text text_type_main-default",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(m.jsx)(j.b,{className:Ge.a.link,to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})},pt=function(){var e=g(),t=v((function(e){return e.userInfo.registerInfo})),n=t.request,r=v((function(e){return e.userInfo.user})),c=Object(a.useState)({email:"",name:"",password:""}),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useCallback)((function(e){console.log(e.target);var t=e.target,n=t.name,a=t.value;o((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(Be.a)({},n,a))}))}),[]);return r?Object(m.jsx)(b.a,{to:{pathname:"/"}}):Object(m.jsxs)("main",{className:Ge.a.mainColumn,children:[Object(m.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)("form",{className:Ge.a.form,children:Object(m.jsxs)("fieldset",{className:Ge.a.fieldset,children:[Object(m.jsx)(d.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:u,value:i.name,name:"name"}),Object(m.jsx)(d.EmailInput,{onChange:u,value:i.email,name:"email"}),Object(m.jsx)(d.PasswordInput,{onChange:u,value:i.password,name:"password"}),Object(m.jsx)("div",{className:"".concat(Ge.a.button," pb-20"),children:Object(m.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(t){t.preventDefault(),e(ot(i)),o({email:"",name:"",password:""})},children:n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})}),Object(m.jsx)("ul",{className:Ge.a.registrationNav,children:Object(m.jsxs)("li",{className:Ge.a.registrationNav__item,children:[Object(m.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(m.jsx)(j.b,{className:Ge.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},Ot=function(){var e=v((function(e){return e.userInfo.user})),t=g(),n=Object(b.h)(),r=Object(b.g)(),c=Object(a.useState)({email:""}),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useCallback)((function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(Be.a)({},n,a))}))}),[]);return e?Object(m.jsx)(b.a,{to:{pathname:"/"}}):Object(m.jsxs)("main",{className:Ge.a.mainColumn,children:[Object(m.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsx)("form",{className:Ge.a.form,children:Object(m.jsxs)("fieldset",{className:Ge.a.fieldset,children:[Object(m.jsx)(d.Input,{type:"email",value:i.email,name:"email",onChange:u,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"}),Object(m.jsx)("div",{className:"".concat(Ge.a.button," pb-20"),children:Object(m.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(e){e.preventDefault(),t(ut(i)),r.replace({pathname:"/reset-password",state:{from:n}})},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})}),Object(m.jsx)("ul",{className:Ge.a.registrationNav,children:Object(m.jsxs)("li",{className:Ge.a.registrationNav__item,children:[Object(m.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(m.jsx)(j.b,{className:Ge.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},mt=function(){var e,t=v((function(e){return e.userInfo.user})),n=Object(x.b)(),r=Object(b.h)(),c=Object(b.g)(),s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],p=Object(a.useState)({password:"",token:""}),O=Object(l.a)(p,2),f=O[0],_=O[1],h=Object(a.useCallback)((function(e){var t=e.target,n=t.name,a=t.value;_((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(Be.a)({},n,a))}))}),[]);return(null===(e=r.state)||void 0===e?void 0:e.from)?t?Object(m.jsx)(b.a,{to:{pathname:"/"}}):Object(m.jsxs)("main",{className:Ge.a.mainColumn,children:[Object(m.jsx)("h2",{className:"text text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsx)("form",{className:Ge.a.form,children:Object(m.jsxs)("fieldset",{className:Ge.a.fieldset,children:[Object(m.jsx)(d.Input,{type:o?"text":"password",name:"password",value:f.password,onChange:h,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:"ShowIcon",onIconClick:function(){u((function(e){return!e}))}}),Object(m.jsx)(d.Input,{type:"text",name:"token",value:f.token,onChange:h,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),Object(m.jsx)("div",{className:"".concat(Ge.a.button," pb-20"),children:Object(m.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(e){e.preventDefault(),n(lt(f,(function(){c.replace({pathname:"/login"})})))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}),Object(m.jsx)("ul",{className:Ge.a.registrationNav,children:Object(m.jsxs)("li",{className:Ge.a.registrationNav__item,children:[Object(m.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(m.jsx)(j.b,{className:Ge.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]}):Object(m.jsx)(b.a,{to:"/forgot-password"})},ft=n(38),_t=n.n(ft),ht=n(39),xt=n.n(ht),gt=function(e){return e?xt.a.link__active+" "+xt.a.link:xt.a.link},vt=function(e){var t=e.links;return Object(m.jsx)("ul",{className:"".concat(xt.a.sidebarMenu),children:t.map((function(e,t){return Object(m.jsx)("li",{className:xt.a.sidebarMenu__item,children:Object(m.jsx)(j.c,{exact:!0,className:gt,to:e.path,onClick:e.onClick,children:e.name})},t)}))})},yt=function(){var e=g(),t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useRef)(null),c=v((function(e){var t;return null===(t=e.userInfo.user)||void 0===t?void 0:t.email}))||"",s=v((function(e){var t;return null===(t=e.userInfo.user)||void 0===t?void 0:t.name}))||"",i=(Object(b.g)(),Object(a.useState)({email:{value:c,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}})),j=Object(l.a)(i,2),p=j[0],O=j[1],f=Object(a.useRef)(p);f.current=p,Object(a.useEffect)((function(){O({email:{value:c,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}})}),[c,s]);var _=Object(a.useCallback)((function(e){var t=e.target.value,n=e.target.name;O((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(Be.a)({},n,Object(P.a)(Object(P.a)({},e[n]),{},{value:t})))}))}),[]),h=Object(a.useCallback)((function(e){console.log(e),O((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(Be.a)({},e,Object(P.a)(Object(P.a)({},t[e]),{},{disabled:!t[e].disabled})))}))}),[]),x=Object(a.useCallback)((function(e){console.log(e),O((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(Be.a)({},e,Object(P.a)(Object(P.a)({},t[e]),{},{disabled:!0})))}))}),[]);Object(a.useEffect)((function(){var e,a,c;p.name.disabled||null===(e=r.current)||void 0===e||e.focus(),p.email.disabled||null===(a=t.current)||void 0===a||a.focus(),p.password.disabled||null===(c=n.current)||void 0===c||c.focus()}),[p]);var y=Object(a.useCallback)(function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e(bt(ee(Z)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),E=Object(a.useCallback)((function(t){t.preventDefault(),e(dt({email:f.current.email.value,password:f.current.password.value,name:f.current.name.value}))}),[]),I=Object(a.useCallback)((function(e){e.preventDefault(),O({email:{value:c,disabled:!0},name:{value:s,disabled:!0},password:{value:"",disabled:!0}})}),[]);return Object(m.jsx)("main",{className:_t.a.main,children:Object(m.jsx)("div",{className:_t.a.main__container,children:Object(m.jsxs)("div",{className:_t.a.wrapper,children:[Object(m.jsxs)("div",{className:_t.a.sidebarLeft,children:[Object(m.jsx)(vt,{links:[{path:"/profile",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},{path:"/profile/orders",name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},{path:"/logout",name:"\u0412\u044b\u0445\u043e\u0434",onClick:y}]}),Object(m.jsx)("p",{className:"".concat(_t.a.aboutProfilePage," text text_type_main-default"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(m.jsx)("form",{className:Ge.a.form,children:Object(m.jsxs)("fieldset",{className:Ge.a.fieldset,children:[Object(m.jsx)(d.Input,{type:"text",name:"name",value:p.name.value,onChange:_,placeholder:"\u0418\u043c\u044f",icon:"EditIcon",disabled:p.name.disabled,onIconClick:function(){h("name")},ref:r,onBlur:function(){x("name")}}),Object(m.jsx)(d.Input,{type:"text",name:"email",value:p.email.value,onChange:_,placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:"EditIcon",disabled:p.email.disabled,onIconClick:function(){h("email")},ref:t,onBlur:function(){x("email")}}),Object(m.jsx)(d.Input,{type:"password",name:"password",value:p.password.value,onChange:_,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",disabled:p.password.disabled,onIconClick:function(){h("password")},ref:n,onBlur:function(){x("password")}}),Object(m.jsxs)("div",{className:"".concat(Ge.a.button," ").concat(Ge.a.button__group),children:[Object(m.jsx)(d.Button,{type:"primary",size:"medium",onClick:I,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(m.jsx)(d.Button,{type:"primary",size:"medium",onClick:E,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})})})},Et=n(107),It=n(110),Nt=["children","user","isUserLoaded"],Ct=function(e){var t=e.children,n=e.user,a=e.isUserLoaded,r=Object(It.a)(e,Nt);return a?Object(m.jsx)(b.b,Object(P.a)(Object(P.a)({},r),{},{render:function(e){var a=e.location;return n?t:Object(m.jsx)(b.a,{to:{pathname:"/login",state:{from:a}}})}})):null},Rt=n(14),Tt=n.n(Rt),St=function(){var e=Object(b.i)().id,t=v((function(t){return t.burgerIngredients.burgerIngredients.find((function(t){return t._id===e}))}));return console.log(t),Object(m.jsxs)("div",{className:Tt.a.ingredientDetails,children:[Object(m.jsx)("img",{className:"pb-6",src:null===t||void 0===t?void 0:t.image_large,alt:null===t||void 0===t?void 0:t.name}),Object(m.jsx)("p",{className:"text text_type_main-medium pb-8",children:null===t||void 0===t?void 0:t.name}),Object(m.jsxs)("ul",{className:Tt.a.ingredientDetails__nutritionalValue,children:[Object(m.jsxs)("li",{className:Tt.a.ingredientDetails__nutritionaValueItem,children:[Object(m.jsx)("p",{className:"text text_type_main-default ".concat(Tt.a.ingredientDetails__nutritionaName),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(m.jsx)("p",{className:"".concat(Tt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.calories})]}),Object(m.jsxs)("li",{className:Tt.a.ingredientDetails__nutritionaValueItem,children:[Object(m.jsx)("p",{className:"text text_type_main-default ".concat(Tt.a.ingredientDetails__nutritionaName),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(m.jsx)("p",{className:"".concat(Tt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.proteins})]}),Object(m.jsxs)("li",{className:Tt.a.ingredientDetails__nutritionaValueItem,children:[Object(m.jsx)("p",{className:"text text_type_main-default ".concat(Tt.a.ingredientDetails__nutritionaName),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(m.jsx)("p",{className:"".concat(Tt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.fat})]}),Object(m.jsxs)("li",{className:Tt.a.ingredientDetails__nutritionaValueItem,children:[Object(m.jsx)("p",{className:"text text_type_main-default ".concat(Tt.a.ingredientDetails__nutritionaName),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(m.jsx)("p",{className:"".concat(Tt.a.ingredientDetails__nutritionaCount," text text_type_digits-default "),children:null===t||void 0===t?void 0:t.carbohydrates})]})]})]})},kt=function(){return Object(m.jsx)("main",{className:Ge.a.mainColumn,children:Object(m.jsx)(St,{})})},Dt=function(){return Object(m.jsx)("main",{className:Ge.a.mainColumn,children:Object(m.jsx)("h2",{children:"not found 404"})})},wt=function(){var e=g(),t=v((function(e){return e.userInfo.user})),n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(b.h)(),d=Object(b.g)(),j=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pe());case 2:return t.next=4,e(function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:at}),e.prev=1,e.next=4,ce();case 4:return n=e.sent,e.next=7,t(it(n));case 7:return e.abrupt("return",n);case 10:if(e.prev=10,e.t0=e.catch(1),403!==e.t0.status||"jwt expired"!==e.t0.message){e.next=25;break}return e.prev=13,e.next=16,se(ce);case 16:a=e.sent,t(it(a)),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),t(st());case 23:e.next=26;break;case 25:t(st());case 26:case"end":return e.stop()}}),e,null,[[1,10],[13,20]])})));return function(t){return e.apply(this,arguments)}}());case 4:s(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){j(),Object(Et.setInterval)((function(){var t;e((t=ee(Z),function(e){e({type:"REFRESH_TOKEN_REQUEST"}),ae(t).then((function(t){e({type:"REFRESH_TOKEN_REQUEST_SUCCESS",payload:t}),t.accessToken&&Y(X,t.accessToken.split("Bearer ")[1]),t.refreshToken&&Y(Z,t.refreshToken)})).catch((function(t){console.log(t),e({type:"REFRESH_TOKEN_REQUEST_FAILED"})}))}))}),114e4)}),[]);var p=Object(a.useCallback)((function(){d.goBack()}),[]),O="PUSH"===d.action&&i.state&&i.state.background;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(_,{}),Object(m.jsxs)(b.d,{location:O||i,children:[Object(m.jsx)(b.b,{path:"/",exact:!0,component:Ae}),Object(m.jsx)(b.b,{path:"/login",component:jt}),Object(m.jsx)(b.b,{path:"/register",component:pt}),Object(m.jsx)(b.b,{path:"/forgot-password",component:Ot}),Object(m.jsx)(b.b,{path:"/reset-password",component:mt}),Object(m.jsx)(Ct,{path:"/profile",exact:!0,user:t,isUserLoaded:c,children:Object(m.jsx)(yt,{})}),Object(m.jsx)(b.b,{path:"/ingredients/:id",component:kt}),Object(m.jsx)(b.b,{children:Object(m.jsx)(Dt,{})})]}),O&&Object(m.jsx)(b.b,{path:"/ingredients/:id",children:Object(m.jsx)(L,{onClose:p,title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(m.jsx)(St,{})})})]})},qt=n(28),Lt=n(22),Pt={burgerIngredients:[],burgerIngredientsRequest:!1,burgerIngredientsFailed:!1},Ut={ingredients:[]},Ft="SET_INGREDIENT_DETAIL",Gt="INIT_INGREDIENT_DETAIL",At={calories:null,carbohydrates:null,fat:null,image:null,image_large:null,image_mobile:null,name:null,price:null,proteins:null,type:null,__v:null,_id:null},Bt={orderRequest:!1,orderFailed:!1,order:{number:0},success:!1,name:""},Qt={success:!1,user:null,accessToken:"",refreshToken:"",registerInfo:{request:!1,failedRequest:!1,success:!1},codePasswordInfo:{request:!1,failedRequest:!1,message:"",success:!1},confirmResetPass:{request:!1,failedRequest:!1,message:"",success:!1},loginInfo:{request:!1,failedRequest:!1,success:!1},getProfileInfo:{request:!1,failedRequest:!1,success:!1},logoutInfo:{request:!1,failedRequest:!1,success:!1,message:""}},Mt=Object(qt.b)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(P.a)(Object(P.a)({},e),{},{ingredientsInitialState:!0});case oe:return{burgerIngredients:t.payload,burgerIngredientsRequest:!1,burgerIngredientsFailed:!1};case ue:return Object(P.a)(Object(P.a)({},e),{},{burgerIngredientsRequest:!1,burgerIngredientsFailed:!0});case le:return Object(P.a)(Object(P.a)({},e),{},{burgerIngredients:Object(Lt.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id?Object(P.a)(Object(P.a)({},e),{},{qty:e.qty+1||1}):e}))});case be:return Object(P.a)(Object(P.a)({},e),{},{burgerIngredients:Object(Lt.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id?Object(P.a)(Object(P.a)({},e),{},{qty:e.qty-1||null}):e}))});case de:return Object(P.a)(Object(P.a)({},e),{},{burgerIngredients:Object(Lt.a)(e.burgerIngredients).map((function(e){return e._id===t.payload._id&&"bun"===e.type?Object(P.a)(Object(P.a)({},e),{},{qty:2}):"bun"===e.type?Object(P.a)(Object(P.a)({},e),{},{qty:null}):e}))});case je:return Object(P.a)(Object(P.a)({},e),{},{burgerIngredients:Object(Lt.a)(e.burgerIngredients).map((function(e){return Object(P.a)(Object(P.a)({},e),{},{qty:null})}))});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(P.a)(Object(P.a)({},e),{},{ingredients:[].concat(Object(Lt.a)(e.ingredients),[t.payload])});case V:var n=Object(Lt.a)(e.ingredients).findIndex((function(e){return"bun"===e.type})),a=-1===n?[t.payload].concat(Object(Lt.a)(e.ingredients)):[].concat(Object(Lt.a)(e.ingredients.slice(0,n)),[t.payload],Object(Lt.a)(e.ingredients.slice(n+1)));return Object(P.a)(Object(P.a)({},e),{},{ingredients:a});case z:return Object(P.a)(Object(P.a)({},e),{},{ingredients:Object(Lt.a)(e.ingredients).filter((function(e){return e.uuid!==t.id}))});case K:return Object(P.a)(Object(P.a)({},e),{},{ingredients:Object(Lt.a)(t.payload)});case W:return Object(P.a)({},Ut);default:return e}},ingredientDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(P.a)({},t.payload);case Gt:return Object(P.a)({},At);default:return e}},orderInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(P.a)(Object(P.a)({},e),{},{orderRequest:!0,success:!1});case xe:return Object(P.a)(Object(P.a)(Object(P.a)({},e),t.payload),{},{orderRequest:!1,orderFailed:!1});case ge:return Object(P.a)(Object(P.a)({},e),{},{orderRequest:!1,orderFailed:!0,success:!1});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(P.a)(Object(P.a)({},e),{},{registerInfo:Object(P.a)(Object(P.a)({},e.registerInfo),{},{request:!0,success:!1,failedRequest:!1})});case Me:return Object(P.a)(Object(P.a)({},e),{},{user:t.payload.user,registerInfo:Object(P.a)(Object(P.a)({},e.registerInfo),{},{request:!1,success:!0,failedRequest:!1})});case He:return Object(P.a)(Object(P.a)({},e),{},{registerInfo:Object(P.a)(Object(P.a)({},e.registerInfo),{},{request:!1,success:!1,failedRequest:!0})});case Je:return Object(P.a)(Object(P.a)({},e),{},{codePasswordInfo:Object(P.a)(Object(P.a)({},e.codePasswordInfo),{},{request:!0,failedRequest:!1})});case Ve:return Object(P.a)(Object(P.a)({},e),{},{codePasswordInfo:Object(P.a)(Object(P.a)(Object(P.a)({},e.codePasswordInfo),t.payload),{},{request:!1,failedRequest:!1})});case ze:return Object(P.a)(Object(P.a)({},e),{},{codePasswordInfo:Object(P.a)(Object(P.a)({},e.codePasswordInfo),{},{request:!1,failedRequest:!0})});case Ke:return Object(P.a)(Object(P.a)({},e),{},{confirmResetPass:Object(P.a)(Object(P.a)({},e.confirmResetPass),{},{request:!0,failedRequest:!1})});case We:return Object(P.a)(Object(P.a)({},e),{},{confirmResetPass:Object(P.a)(Object(P.a)(Object(P.a)({},e.confirmResetPass),t.payload),{},{request:!1,failedRequest:!1})});case Ze:return Object(P.a)(Object(P.a)({},e),{},{confirmResetPass:Object(P.a)(Object(P.a)({},e.confirmResetPass),{},{request:!1,failedRequest:!0})});case Xe:return Object(P.a)(Object(P.a)({},e),{},{loginInfo:Object(P.a)(Object(P.a)({},e.loginInfo),{},{request:!0,failedRequest:!1})});case $e:return Object(P.a)(Object(P.a)({},e),{},{user:t.payload.user,loginInfo:Object(P.a)(Object(P.a)(Object(P.a)({},e.loginInfo),t.payload),{},{request:!1,failedRequest:!1})});case Ye:return Object(P.a)(Object(P.a)({},e),{},{loginInfo:Object(P.a)(Object(P.a)({},e.loginInfo),{},{request:!1,failedRequest:!0})});case at:return Object(P.a)(Object(P.a)({},e),{},{getProfileInfo:Object(P.a)(Object(P.a)({},e.getProfileInfo),{},{request:!0,failedRequest:!1})});case ct:return Object(P.a)(Object(P.a)({},e),{},{user:t.payload.user,getProfileInfo:Object(P.a)(Object(P.a)({},e.getProfileInfo),{},{success:t.payload.success,request:!1,failedRequest:!1})});case rt:return Object(P.a)(Object(P.a)({},e),{},{getProfileInfo:Object(P.a)(Object(P.a)({},e.getProfileInfo),{},{request:!1,failedRequest:!0})});case et:return Object(P.a)(Object(P.a)({},e),{},{logoutInfo:Object(P.a)(Object(P.a)({},e.logoutInfo),{},{request:!0,failedRequest:!1})});case nt:return Object(P.a)(Object(P.a)({},e),{},{user:null,logoutInfo:Object(P.a)(Object(P.a)({},e.logoutInfo),{},{success:t.payload.success,message:t.payload.message,request:!1,failedRequest:!1})});case tt:return Object(P.a)(Object(P.a)({},e),{},{logoutInfo:Object(P.a)(Object(P.a)({},e.logoutInfo),{},{request:!1,failedRequest:!0})});default:return e}}}),Ht=n(108),Jt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qt.c)(Object(qt.a)(Ht.a)),Vt=Object(qt.d)(Mt,Jt);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x.a,{store:Vt,children:Object(m.jsx)(j.a,{children:Object(m.jsx)(wt,{})})})}),document.getElementById("root"))},24:function(e,t,n){e.exports={header:"app-header_header__mx4J9",headerContent:"app-header_headerContent__3AaFA",menu:"app-header_menu__K1-am",menu__list:"app-header_menu__list__3qN_N",menu__item:"app-header_menu__item__KRK0_",account:"app-header_account__2FrNf",logo:"app-header_logo__2_aT4",linkHeader:"app-header_linkHeader__21lYc",linkHeader__active:"app-header_linkHeader__active__3Zon3"}},37:function(e,t,n){e.exports={burgerconstructorList__inner:"constructor-list_burgerconstructorList__inner__DmqEE",burgerconstructorListOverflowHidden__inner:"constructor-list_burgerconstructorListOverflowHidden__inner__12gRO",burgerconstructorList__item:"constructor-list_burgerconstructorList__item__3vwZb",burgerconstructorList:"constructor-list_burgerconstructorList__2fhz3"}},38:function(e,t,n){e.exports={main:"profile_main__13pDE",main__container:"profile_main__container__3QTMs",wrapper:"profile_wrapper__1_bkU",sidebarLeft:"profile_sidebarLeft__p-PmV",aboutProfilePage:"profile_aboutProfilePage__HIr5c"}},39:function(e,t,n){e.exports={sidebarMenu:"sidebar-menu_sidebarMenu__3iGjh",sidebarMenu__item:"sidebar-menu_sidebarMenu__item__2ZcTH",link:"sidebar-menu_link__2XWwC",link__active:"sidebar-menu_link__active__39BM0"}},43:function(e,t,n){e.exports={burgerConstructorList__innerItem:"constructor-item_burgerConstructorList__innerItem__3yS9F",wrapperConstructorElement:"constructor-item_wrapperConstructorElement__370NU"}},5:function(e,t,n){e.exports={main:"home_main__3kzFK",mainColumn:"home_mainColumn__1nmeu",fieldset:"home_fieldset__1J6I3",button:"home_button__I63wR",button__group:"home_button__group__2kZ69",link:"home_link__3-E7T",registrationNav:"home_registrationNav__3fPHl",registrationNav__item:"home_registrationNav__item__3MgD3"}},54:function(e,t,n){e.exports={burgerConstructor:"burger-constructor_burgerConstructor__T5h6w",burgerConstructor__total:"burger-constructor_burgerConstructor__total__1qOUo",buttonOrder:"burger-constructor_buttonOrder__3RJSX"}},55:function(e,t,n){e.exports={popup:"modal_popup__2MJyD",popup__close:"modal_popup__close__31KGy",popup__title:"modal_popup__title__2Pucf"}},77:function(e,t,n){e.exports={card__list:"ingredientList_card__list__3IBBn",card__listItem:"ingredientList_card__listItem__3v-LR"}}},[[203,1,2]]]);
//# sourceMappingURL=main.e01e85d0.chunk.js.map